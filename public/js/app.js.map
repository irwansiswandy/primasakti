{"version":3,"sources":["app.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"app.js","sourcesContent":["var mainPageVue = new Vue({\r\n  el: '#mainPageController',\r\n  data: {\r\n    server_time: {\r\n      date: '',\r\n      timezone_type: '',\r\n      timezone: ''\r\n    },\r\n    business_days: [],\r\n    today_schedule: ''\r\n  },\r\n  methods: {\r\n    get_server_time: function() {\r\n      return this.$http.get('http://' + document.location.host + '/get_server_time').then(\r\n        (response) => {\r\n          this.$set('server_time.date', response.data.server_time.date);\r\n          this.$set('server_time.timezone_type', response.data.server_time.timezone_type);\r\n          this.$set('server_time.timezone', response.data.server_time.timezone);\r\n        },\r\n        (response) => {\r\n          return this.get_server_time();\r\n        });\r\n    },\r\n    get_business_days: function() {\r\n      return this.$http.get('http://' + document.location.host + '/get_business_days').then(\r\n        (response) => {\r\n          return this.$set('business_days', response.data);\r\n        },\r\n        (response) => {\r\n          return this.get_business_days();\r\n        });\r\n    },\r\n    get_today_schedule: function() {\r\n      return this.$http.get('http://' + document.location.host + '/get_today_schedule').then(\r\n        (response) => {\r\n          return this.$set('today_schedule', response.data);\r\n        },\r\n        (response) => {\r\n          return this.get_today_schedule();\r\n        });\r\n    },\r\n    show_live_clock: function() {\r\n      // UPDATE TIME EVERY MINUTE\r\n      return setInterval(this.get_server_time, 60000);\r\n    },\r\n    format_day: function(day) {\r\n      return moment().day(day).format('dddd');\r\n    },\r\n    format_time: function(hours, minutes) {\r\n      return moment().hour(hours).minute(minutes).format('hh:mm A');\r\n    }\r\n  },\r\n  computed: {\r\n    day_date: function() {\r\n      return moment(this.server_time.date).format('dddd, D MMM YYYY');\r\n    },\r\n    time: function() {\r\n      return moment(this.server_time.date).format('hh:mm A');\r\n    },\r\n    shop_status: function() {\r\n      // INITIALIZE CURRENT TIME\r\n      var current_hour = moment(this.server_time.date).hour();\r\n      var current_minute = moment(this.server_time.date).minute();\r\n\r\n      // DETERMINE SHOP STATUS IF OPEN/CLOSED\r\n      if (current_hour >= this.today_schedule.open_hour) {\r\n        if (current_hour < this.today_schedule.closed_hour) {\r\n          return 'OPEN';\r\n        }\r\n        else if (current_hour == this.today_schedule.closed_hour) {\r\n          if (current_minute <= this.today_schedule.closed_minute) {\r\n            return 'OPEN';\r\n          }\r\n          else {\r\n            return 'CLOSED';\r\n          }\r\n        }\r\n        else {\r\n          return 'CLOSED';\r\n        }\r\n      }\r\n      else {\r\n        return 'CLOSED';\r\n      }\r\n    }\r\n  },\r\n  ready: function() {\r\n    this.get_server_time();\r\n    this.get_business_days();\r\n    this.get_today_schedule();\r\n    this.show_live_clock();\r\n  }\r\n});\r\n"],"sourceRoot":"/source/"}